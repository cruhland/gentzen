### Soon

- Button or keypress to duplicate focused row
- Simpler way to move rows around
    - Buttons to move up and down?
    - Drag and drop?
- Change duplicateFocusedRow() to duplicate the row that is or last
  was focused
- Automatically substitute math symbols (not using entities)
- Support input of subscripts and superscripts

### Later

- A quick way to copy-paste subformulas (will require parsing)


### Ideas

Two major pain points with current UI:
1. Row numbering and ordering is arbitrary, makes proofs hard to write
and follow
1. Editor doesn't understand the structure of the proofs, cannot help
with rule selection or verification

The solution to (1) is to order the lines based on the dependencies
between them. The editor will need to understand which lines depend on
which other lines; this can be done by having the line references in
their own column. Initially, the editor can reorder the lines without
updating the IDs, but eventually it should also renumber the IDs to
make the proof look nicer. Assumption lines will have to be handled
somehow.

The solution to (2) is for the editor to know all the rules, and how
well they match with a given proof line. This will require parsing the
proof lines. I'd like to be able to visualize the parsed lines in some
way too: indicate the structure using HTML and CSS.

Plan to accomplish (1):
1. Add column for line references
1. Hovering over a reference number should highlight the row
1. Hovering over a row ID should highlight where it's referenced
1. Whenever a reference cell is changed, the proof should be reordered
using topological sort
1. Factor code into a JS-only model and an HTML view
1. Make line numbering sequential

Plan to accomplish (2):
1. Create formula parser that shows off the AST in various ways
1. Create rule builder/parser that displays rules
1. Implement and visualize matching a rule with a set of formulas
1. Allow the proof to be generated by specifying rules and formulas to
fill them in
